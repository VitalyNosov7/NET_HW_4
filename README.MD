## Домашнее задание к Уроку 4. GOF: паттерны проектирования в .Net разработке:

Структурируйте код клиента и сервера чата, используя знания о шаблонах.

---
## Решение:

Для решения задачи  код запуска сервера был вынесен в отдельный класс Server с  реализацией порождающего паттерна Singleton.
Порождающий паттерн Sinleton реализован в  классе Server следующим образом:

1. Добавлена приватная статическая переменная-экземпляр нашего класса instance (стр. 10);
```
private static Server instance;
```
2. Добавлен статичный объект lockObject (стр. 11), который будет использоваться для блокировки участка кода, ответственного за создание экземпляра instance;
```
private static readonly object lockObject = new object();
```
3. Добавлен приватный конструктор класса (стр. 17). Так как конструктор приватный, никто не сможет создать его экземпляр.
```
private Server() { }
```
4. Добавлено публичное свойство Instance (стр. 19 - 36), через которое будет обеспечен доступ к экземпляру класса Server. Если экземпляр не существует, то он будет создан.
```
public static Server Instance
{
       get
       {
           if (instance == null)
           {
               lock (lockObject)
               {
                   if (instance == null)
                   {
                       instance = new Server();
                   }
               }
           }
            return instance;
       }
}
```
5. В методе StartServer() реализован вызов кода работы сервера(стр.38).
6. Запуск сервера происходит из метода Main()  (стр. 67)
```
await Task.Run(() => Server.Instance.StartServer());
```

Таким образом был реализован порождающий паттерн Singleton.
